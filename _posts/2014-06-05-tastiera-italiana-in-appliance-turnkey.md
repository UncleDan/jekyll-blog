---
id: 1803
title: Tastiera italiana in appliance Turnkey
date: 2014-06-05T20:00:16+00:00
author: Daniele Lolli (UncleDan)
layout: post
guid: http://www.danielelolli.it/?p=1803
permalink: /tastiera-italiana-in-appliance-turnkey-06-2014.html
categories:
  - Linux
  - Tech
tags:
  - italian
  - keyboard
  - linux
  - locale
  - turnkey
---
Thanks <span style="color: #272727;"><a href="http://www.turnkeylinux.org/user/40849" target="_blank">avallac_h</a> for the script: I just adapted it to italian (original script was for russian layout).</span>

``# Disable purging italian locales<br />
cat >> /etc/locale.nopurge < <END
it
it_IT
it_IT.UTF-8
END

# Reinstall coreutils (separately, to avoid cyclic dependencies)
apt-get --reinstall install coreutils

# Get a list of packages that lack locale files
# I use `sed` to do the following things:
# 1) remove arch substring: "somepkg:i386" "somepkg:amd64" -> "smth"<br />
# 2) remove commas: "somepkg1, somepkg2" -> "somepkg1 somepkg2"<br />
# 3) remove coreutils from list (cyclic dependencies)<br />
LOCALES=$(dpkg -S /usr/share/locale/ | sed -e 's/:.*$//;s/,//g;s/coreutils//')<br />
I18N=$(dpkg -S /usr/share/i18n/ | sed -e 's/:.*$//;s/,//g;s/coreutils//')</p>
<p>apt-get --reinstall install $LOCALES<br />
apt-get --reinstall install $I18N</p>
<p># (Re-)Install some packages<br />
apt-get --reinstall install \<br />
    console-setup kbd keyboard-configuration \<br />
    locales xkb-data</p>
<p># Correcting "/etc/default/locale" file<br />
echo '#  File generated by update-locale' > /etc/default/locale<br />
echo >> /etc/default/locale < <END

# Reconfigure all that stuff
dpkg-reconfigure locales
dpkg-reconfigure console-setup
dpkg-reconfigure keyboard-configuration``

Source:
  
<a href="http://www.turnkeylinux.org/forum/support/20130222/adding-locales-and-language-support-turnkey-lamp-stack" target="_blank">http://www.turnkeylinux.org/forum/support/20130222/adding-locales-and-language-support-turnkey-lamp-stack</a></code>

<div class="container_share">
  <a href="http://www.facebook.com/sharer.php?u=http://www.danielelolli.it/tastiera-italiana-in-appliance-turnkey-06-2014.html&t=Tastiera italiana in appliance Turnkey" target="_blank" class="button_purab_share facebook"><span><i class="icon-facebook"></i></span>
  
  <p>
    Facebook
  </p></a> 
  
  <a href="http://twitter.com/share?url=http://www.danielelolli.it/tastiera-italiana-in-appliance-turnkey-06-2014.html&text=Tastiera italiana in appliance Turnkey" target="_blank" class="button_purab_share twitter"><span><i class="icon-twitter"></i></span>
  
  <p>
    Twitter
  </p></a> 
  
  <a href="https://plus.google.com/share?url=http://www.danielelolli.it/tastiera-italiana-in-appliance-turnkey-06-2014.html" target="_blank" class="button_purab_share google-plus"><span><i class="icon-google-plus"></i></span>
  
  <p>
    Google +
  </p></a> 
  
  <a href="http://www.linkedin.com/shareArticle?mini=true&url=http://www.danielelolli.it/tastiera-italiana-in-appliance-turnkey-06-2014.html&title=Tastiera italiana in appliance Turnkey" target="_blank" class="button_purab_share linkedin"><span><i class="icon-linkedin"></i></span>
  
  <p>
    Linkedin
  </p></a>
</div>